<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [routerFunct][1]
    -   [Parameters][2]
-   [copyToPacs][3]
    -   [Parameters][4]
-   [movePatient][5]
    -   [Parameters][6]
-   [checkIfAlreadyExists][7]
    -   [Parameters][8]
-   [createExamInWorklistV2][9]
    -   [Parameters][10]
-   [createExamInWorklistJSONIN][11]
    -   [Parameters][12]
-   [convertDumpToDicom][13]
    -   [Parameters][14]
-   [convertPdfToJpeg][15]
    -   [Parameters][16]
-   [convertImgToDicom][17]
    -   [Parameters][18]
-   [dumpFileName][19]
    -   [Parameters][20]
-   [dataMysqlDump][21]
    -   [Parameters][22]
-   [stream2file][23]
    -   [Parameters][24]
-   [prescription][25]
    -   [Parameters][26]
-   [sendingToPacs][27]
    -   [Parameters][28]

## routerFunct

This function look if the url and method match the route.
If yes, return the parameters of the request,
otherwise, return false

### Parameters

-   `method` **[string][29]** request methods
-   `url` **[string][29]** url
-   `ctx` **[object][30]** ctx object of koa middleware

Returns **any** parameters of the request or false

## copyToPacs

This function transfer the patient to another server

### Parameters

-   `params` **[object][30]** Parameter of the request.
-   `pacsParam` **[object][30]** Connection info of the pacs

## movePatient

This route moves a patient from one server to another.

method : PUT

url : /v2/Destinations/:Server/Patients/:Patient

### Parameters

-   `Server`  : Name of the destination server
-   `Patient`  : PatientID

## checkIfAlreadyExists

This function check in a database if the params exist in a certain column

### Parameters

-   `connection` **[object][30]** object of the connection to mysql
-   `params` **[object][30]** parameter of the request
-   `dbName` **[string][29]** name of the database
-   `column` **[string][29]** name of the column in the database

Returns **any** true or false

## createExamInWorklistV2

This route creates or updates a patient in the worklist from the data in the body request

Data in the body request must be in JSON

method : PUT

url : /v2/Examens/:id/

### Parameters
 
-   `id`  : Accession Number of the patient

## createExamInWorklistJSONIN

This route creates or updates a patient in the worklist from the data in the body request

Data in the body request must be in JSON

method : PUT

url : /JSON_IN

## convertDumpToDicom

This function converts a dump file to a dicom file

### Parameters

-   `inputFile` **[string][29]** Input dump file name
-   `outputFile` **[string][29]** Output dicom file name
    Return a dicom file

## convertPdfToJpeg

This function converts a PDF file to a JPEG image

### Parameters

-   `inputPdfName` **[string][29]** Input PDF file name.
-   `outputJpgName` **[string][29]** Output JPEG file name.
    Return a JPEG image.

## convertImgToDicom

This function converts a JPEG image to a DCM file
and add the data from a DCM model file in it

### Parameters

-   `inputImgName` **[string][29]** Input JPEG file name.
-   `outputDcmName` **[string][29]** Output DCM file name.
-   `modelName` **[string][29]** DCM model file name
    Return a DCM file.

## dumpFileName

This function returns 'PatientID.dump' string

### Parameters

-   `Obj` **[object][30]** parameter of the request

Returns **[string][29]** PatientID.dump.

## dataMysqlDump

This function returns a dump with the data from the database.

### Parameters

-   `params` **[object][30]** Parameter of the request.
-   `object` **[object][30]** The returned object from the 'SELECT' query.

Returns **[string][29]** a dump with the data from the database.

## stream2file

This function creates a file from the stream of the request body

### Parameters

-   `stream` **[object][30]** stream of the request
-   `fileName` **[string][29]** output file name
    Return a file

## prescription

This route add to a existing patient the prescription from the body request
and send it to the pacs.

Prescription must be send by the body request in binary mode.

Prescription in the body request must be in PDF.

method : POST

url : /v2/Examens/:id/prescription

### Parameters

-   `id`  : Accession Number of the patient

## sendingToPacs

This function sends the dcm file (with the image in it) to the pacs

### Parameters

-   `inputDcmName` **[string][29]** Input DCM file name.
-   `pacsParam` **[object][30]** Connection info of the pacs

[1]: #routerfunct

[2]: #parameters

[3]: #copytopacs

[4]: #parameters-1

[5]: #movepatient

[6]: #parameters-2

[7]: #checkifalreadyexists

[8]: #parameters-3

[9]: #createexaminworklistv2

[10]: #parameters-4

[11]: #createexaminworklistjsonin

[12]: #parameters-5

[13]: #convertdumptodicom

[14]: #parameters-6

[15]: #convertpdftojpeg

[16]: #parameters-7

[17]: #convertimgtodicom

[18]: #parameters-8

[19]: #dumpfilename

[20]: #parameters-9

[21]: #datamysqldump

[22]: #parameters-10

[23]: #stream2file

[24]: #parameters-11

[25]: #prescription

[26]: #parameters-12

[27]: #sendingtopacs

[28]: #parameters-13

[29]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[30]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
